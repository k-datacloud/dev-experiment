<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="dist/reset.css">
    <link rel="stylesheet" href="dist/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Noto+Sans+JP:wght@100..900&display=swap" rel="stylesheet">
    <title>Go Gsap </title>
</head>
<body>

    <header class="header">
      <div class="header__wrapper">
        <h1 class="header__title">campfield</h1>
        <nav class="header__nav">
          <ul class="header-list">
            <li class="header-list__item"><a class="header-list__link" href="">about</a></li>
            <li class="header-list__item"><a class="header-list__link" href="">product</a></li>
            <li class="header-list__item"><a class="header-list__link" href="">contact</a></li>
          </ul>
        </nav>
        <a class="explore-btn is-pc" href="">explore gear
          <img class="explore-btn__icon" src="solar_fire-bold.svg" alt="">
        </a>
        <button class="menu-btn is-sp">
          <span class="menu-btn__label">menu</span>
        </button>
      </div>
    </header>

    <main>

      <section class="mv">
        <div class="mv__wrapper">
          <div class="mv__img is-pc">
            <img src="ChatGPT Image May 12, 2025, 09_40_04 AM.png" alt="">
          </div>
          <div class="mv__info">
            <h2 class="mv__title">reset <br class="is-sp">in nature</h2>
            <p class="mv__text">escape the degital noise</p>
            <a class="explore-btn is-sp" href="">explore gear
              <img src="solar_fire-bold.svg" alt="">
            </a>
          </div>
          <p class="mv__tag">captured in tokyo / april 2025</p>
          <div class="opening-animation">
            <div class="bg-item"></div>
            <div class="bg-item"></div>
            <div class="bg-item"></div>
            <div class="bg-item"></div>
            <div class="bg-item"></div>
          </div>
        </div>
      </section>

      <section class="menu">

          <div class="menu__wrapper">
              <div class="menu__item menu__item--yellow">
                  <div class="menu-header">
                    <h2 class="menu__title">sleeping bag</h2>
                    <p class="menu__tag">stay warm!</p>
                  </div>
                  <div class="menu-content">
                    <div class="menu-content__context">

                      <div class="menu-content__item">
                        <div class="menu-content__info">
                          <p class="menu-content__text menu-content__text--bold">Aurora Down 900</p>
                          <p class="menu-content__text">Engineered for deep winter. Premium down fill keeps you warm even on snow-covered nights.</p>
                        </div>
                        <p class="menu-content__text">$360</p>
                      </div>

                      <!-- <div class="divider"></div> -->
                      
                      <div class="menu-content__item">
                        <div class="menu-content__info">
                          <p class="menu-content__text menu-content__text--bold">Breeze Lite</p>
                          <p class="menu-content__text">Ultralight and breathable. Perfect for summer trails and quick getaways.</p>
                        </div>
                        <p class="menu-content__text">$110</p>
                      </div>

                      <!-- <div class="divider"></div> -->
                      
                      <div class="menu-content__item">
                        <div class="menu-content__info">
                          <p class="menu-content__text menu-content__text--bold">Modulux Duo</p>
                          <p class="menu-content__text">Modular double sleeping bag. Zip together or split apart — flexibility for any trip.</p>
                        </div>
                        <p class="menu-content__text">$280</p>
                      </div>
                    </div>
                    <div class="menu-content__img">
                      <img src="Frame 299.png" alt="" data-src00="Frame 299.png" data-src01="Frame 300.png" data-src02="Frame 301.png">
                    </div>
                  </div>
              </div>
              <div class="menu__item menu__item--gray">
                  <div class="menu-header">
                    <h2 class="menu__title">tent</h2>
                    <p class="menu__tag">settle in!</p>
                  </div>
                  <div class="menu-content">
                    <div class="menu-content__context">
                      <div class="menu-content__item">
                        <div class="menu-content__info">
                          <p class="menu-content__text menu-content__text--bold">Nimbus Ultralight</p>
                          <p class="menu-content__text">Featherweight solo tent with waterproof seams and fast setup design.</p>
                        </div>
                        <p class="menu-content__text">$240</p>
                      </div>
                      
                      <div class="menu-content__item">
                        <div class="menu-content__info">
                          <p class="menu-content__text menu-content__text--bold">Haven Duo</p>
                          <p class="menu-content__text">Spacious 2-person tent with panoramic mesh windows and weatherproof fly.</p>
                        </div>
                        <p class="menu-content__text">$320</p>
                      </div>
                      
                      <div class="menu-content__item">
                        <div class="menu-content__info">
                          <p class="menu-content__text menu-content__text--bold">Trail Base 4</p>
                          <p class="menu-content__text">Family-sized comfort meets fast-pitch technology. Great for group adventures.</p>
                        </div>
                        <p class="menu-content__text">$480</p>
                      </div>
                      <div class="menu-content__img">
                        <img src="" alt="">
                      </div>
                    </div>
                  </div>
              </div>
              <div class="menu__item menu__item--orange">
                  <div class="menu-header">
                    <h2 class="menu__title">cookware</h2>
                    <p class="menu__tag">fuel up!</p>
                  </div>
                  <div class="menu-content">
                    <div class="menu-content__context">
                      <div class="menu-content__item">
                        <div class="menu-content__info">
                          <p class="menu-content__text menu-content__text--bold">Forge Kettle</p>
                          <p class="menu-content__text">Compact pour-over kettle with precise spout and fast-boil aluminum body.</p>
                        </div>
                        <p class="menu-content__text">$75</p>
                      </div>
                      
                      <div class="menu-content__item">
                        <div class="menu-content__info">
                          <p class="menu-content__text menu-content__text--bold">CampSkillet Pro</p>
                          <p class="menu-content__text">Non-stick and flame-friendly, perfect for one-pan meals under the stars.</p>
                        </div>
                        <p class="menu-content__text">$95</p>
                      </div>
                      
                      <div class="menu-content__item">
                        <div class="menu-content__info">
                          <p class="menu-content__text menu-content__text--bold">StackLite Set</p>
                          <p class="menu-content__text">Nesting pot set for efficient storage. Titanium build, ultra lightweight.</p>
                        </div>
                        <p class="menu-content__text">$160</p>
                      </div>
                    </div>
                    <div class="menu-content__img">
                      <img src="" alt="">
                    </div>
                  </div>
              </div>
          </div>

          <div class="cursor">
            <span class="cursor__label">open</span>
          </div>
      </section>

      <section class="hover-play">
        <div class="hover-play__wrapper">
          <!-- <div class="hover-play__img">
            <img src="image 35.png" alt="">
            <div class="hover-play__img-border">
                <span class="hover-play__img-label">about</span>
            </div>
          </div> -->
          <div class="container">
            <div class="shape"></div>
          </div>
        </div>
      </section>
      

      <section class="dummy"></section>
    </main>

    <footer class="footer">
      <div class="footer__wrapper">
        <h2 class="footer__title">enjoy your stay</h2>
      </div>
    </footer>


    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/ScrollTrigger.min.js"></script>
    <script>

        gsap.registerPlugin(ScrollTrigger);
        const tl = gsap.timeline();


        const cursor = document.querySelector('.cursor')
        const cursorLabel = document.querySelector('.cursor__label')
        document.querySelectorAll('.menu__item').forEach((item, index) => {

        item.addEventListener('mouseenter', () => {
            if (!item.classList.contains('open')) {
              cursorLabel.textContent = 'open';
            } else {
              cursorLabel.textContent = 'close';
            }
        })

        item.addEventListener('click', () => {
            const titles = document.querySelectorAll('.menu__title')
            const contents = document.querySelectorAll('.menu-content')
            const height = contents[index].scrollHeight;
            
            if (item.classList.contains('open')) {
            gsap.to(contents[index], { height: '0px', marginBottom: '0px', duration: 0.5, ease: "power2.inOut" });
            gsap.to(titles[index], { marginBottom: '0px', fontSize: '108px', duration: 0.5, ease: "power2.inOut"})
            item.classList.remove('open');
            cursorLabel.textContent = 'open';
            } else {
            gsap.to(contents[index], { height: height, marginBottom: '40px', duration: .5, ease: "power2.inOut" });
            gsap.to(titles[index], { marginBottom: '96px', fontSize: '120px', duration: 0.5, ease: "power2.inOut"})
            gsap.from(contents[index].querySelectorAll('.menu-content__item'), {
                opacity: 0,
                y: 20,
                stagger: 0.3,
                duration: 0.5,
                delay: 0.6,
                ease: "power2.out"
              });
            item.classList.add('open');
            cursorLabel.textContent = 'close';
            }
        });
        });

        const menuSection = document.querySelector('.menu')

        menuSection.addEventListener('mousemove', (e)=> {
          gsap.to(cursor,{x: e.clientX, y: e.clientY, opacity: 1, duration: 0.3, ease: "ease"})
        })

        menuSection.addEventListener('mouseleave', () => {
          gsap.to(cursor,{opacity: 0, ease: "none"})
        })

        // const mvTitle = document.querySelector('.mv__title');
        // const letters = mvTitle.innerHTML.trim().split("");
        // mvTitle.innerHTML = "";
        // letters.forEach((letter) => {
        //   const span = document.createElement("span");
        //   span.classList.add("letter");
        //   span.innerHTML = letter;
        //   mvTitle.appendChild(span);
        // })
        // const letterSpans = document.querySelectorAll('.letter');
        // gsap.from(letterSpans, {
        //   opacity: 0,
        //   y: 100,
        //   stagger: .3,
        //   duration: .7,
        //   ease: "power2.out"
        // });

        const products = document.querySelectorAll('.menu-content__item');
        const productImage = document.querySelector('.menu-content__img img');
        products.forEach((product, index) => {
          product.addEventListener('mouseover', () => {
            productImage.src = productImage.dataset["src0" + index];
            gsap.fromTo(productImage, {
              transform: "scale(1.1) rotate(5deg)",
              opacity: 0,
              duration: .7,
              ease: "power2.out"
            }, {
              transform: "scale(1) rotate(0deg)",
              opacity: 1,
              duration: .7,
              ease: "power2.out"
            })
          })
        })

        // const footeranimation = () => {
        //   const footer = document.querySelector('.footer');
        //   const footerTitle = document.querySelector('.footer__title');
        //   const scrollY = window.scrollY;
        //   const windowHeight = window.innerHeight;
        //   const elementPosition = footer.getBoundingClientRect().top + window.scrollY;
        //   if ( scrollY >= elementPosition - 200 ) {
        //     console.log("true");
        //     // footerTitle.classList.add('is-active');
        //     gsap.to(footerTitle, {
        //       y: 0,
        //       opacity: 1,
        //       duration: .7,
        //       ease: "power2.out"
        //     })
        //   } else {
        //     console.log("false");
        //     footerTitle.classList.remove('is-active');
        //   }
        // }

        gsap.from('.footer__title', {
          y: 40,
          opacity: 0,
          duration: .7,
          ease: "power2.out",
          scrollTrigger: {
            trigger: '.footer',
            start: 'top bottom-=400',
            toggleActions: 'play none none reverse'
          }
        })

        gsap.set('.shape', {
          rotationX: -90,
          rotationY: 0,
          rotationZ: 0,
          transformOrigin: 'center bottom',
          scale: 0.5
        });

        tl.from('.shape', {
          rotateX: -90,           // 奥に寝かせた状態から
          scale: 0.5,             // 小さく
          transformOrigin: 'center bottom',
          duration: 0.6,
          ease: 'power2.out'
        })
        .to('.shape', {
          rotateX: 0,             // 起き上がってくる
          scale: .5,             // 少し拡大
          duration: 0.4,
          ease: 'power1.out'
        })
        .to('.shape', {
          scale: 1,               // 元の大きさに戻す
          duration: 0.2,
          ease: 'power2.inOut'
        });

        const bgItem = document.querySelectorAll('.mv .bg-item')
        const mvTitle = document.querySelector('.mv__info');
        const mvImg = document.querySelector('.mv__img img');
        const header = document.querySelector('.header');
        
        tl.to ( '.bg-item', {
          scaleY: 0,
          transformOrigin: 'top',
          duration: .8,
          ease: "power1.in",
          stagger: {
            from: "random",
            each: .2,
          },
          onComplete: () => {
            document.querySelector('.mv .opening-animation').style.visibility = 'hidden';
          }
        })
        .from(mvImg, {
          scale: 1.1,
          duration: .7,
          ease: "power1.out"
        })
        .from(mvTitle, {
          x: 20,
          opacity: 0,
          duration: 1,
          ease: "power1.out"
        })
        .from(header, {
          y: 20,
          opacity: 0,
          duration: .7,
          ease: "power1.out"
        },)
        
        
        
    </script>
    
</body>
</html>